{"timestamp":"2026-01-22T17:25:48.117971Z","level":"INFO","message":"Running Lua script: simulation/scripts/scenarios/offline_relay.lua","target":"lua_runner","filename":"simulation/src/bin/lua_runner.rs","line_number":93}
{"timestamp":"2026-01-22T17:25:48.120054Z","level":"INFO","message":"Starting offline relay scenario","source":"lua","fields":"{\"trace_id\":\"df67cc90-16bc-4ea6-b5df-13ed52034deb\",\"description\":\"Tests mutual peer fallback for offline recipients\",\"scenario\":\"offline_relay\"}","target":"indras_simulation::lua::bindings::logging","filename":"simulation/src/lua/bindings/logging.rs","line_number":95}
{"timestamp":"2026-01-22T17:25:48.120361Z","level":"INFO","message":"Created line topology","source":"lua","fields":"{\"topology\":\"A-B-C (line)\",\"edges\":2,\"peers\":3,\"trace_id\":\"df67cc90-16bc-4ea6-b5df-13ed52034deb\"}","target":"indras_simulation::lua::bindings::logging","filename":"simulation/src/lua/bindings/logging.rs","line_number":95}
{"timestamp":"2026-01-22T17:25:48.120531Z","level":"INFO","message":"Mutual peers between A and C","source":"lua","fields":"{\"trace_id\":\"df67cc90-16bc-4ea6-b5df-13ed52034deb\",\"count\":1,\"expected\":\"B\"}","target":"indras_simulation::lua::bindings::logging","filename":"simulation/src/lua/bindings/logging.rs","line_number":95}
{"timestamp":"2026-01-22T17:25:48.120788Z","level":"INFO","message":"Phase 1: All peers coming online","source":"lua","fields":"{\"trace_id\":\"df67cc90-16bc-4ea6-b5df-13ed52034deb\"}","target":"indras_simulation::lua::bindings::logging","filename":"simulation/src/lua/bindings/logging.rs","line_number":95}
{"timestamp":"2026-01-22T17:25:48.121015Z","level":"INFO","message":"All peers online and connected","source":"lua","fields":"{\"trace_id\":\"df67cc90-16bc-4ea6-b5df-13ed52034deb\",\"state\":\"Tick 3: 3 online, 0 relay queued, 0 backprops pending\",\"tick\":3}","target":"indras_simulation::lua::bindings::logging","filename":"simulation/src/lua/bindings/logging.rs","line_number":95}
{"timestamp":"2026-01-22T17:25:48.121042Z","level":"INFO","message":"Phase 2: C going offline","source":"lua","fields":"{\"tick\":3,\"trace_id\":\"df67cc90-16bc-4ea6-b5df-13ed52034deb\"}","target":"indras_simulation::lua::bindings::logging","filename":"simulation/src/lua/bindings/logging.rs","line_number":95}
{"timestamp":"2026-01-22T17:25:48.121131Z","level":"INFO","message":"C is now offline","source":"lua","fields":"{\"tick\":3,\"online_peers\":2,\"trace_id\":\"df67cc90-16bc-4ea6-b5df-13ed52034deb\"}","target":"indras_simulation::lua::bindings::logging","filename":"simulation/src/lua/bindings/logging.rs","line_number":95}
{"timestamp":"2026-01-22T17:25:48.121163Z","level":"INFO","message":"Phase 3: A sending message to offline C","source":"lua","fields":"{\"tick\":3,\"from\":\"A\",\"trace_id\":\"df67cc90-16bc-4ea6-b5df-13ed52034deb\",\"to\":\"C\"}","target":"indras_simulation::lua::bindings::logging","filename":"simulation/src/lua/bindings/logging.rs","line_number":95}
{"timestamp":"2026-01-22T17:25:48.121418Z","level":"INFO","message":"After send attempt (C offline)","source":"lua","fields":"{\"trace_id\":\"df67cc90-16bc-4ea6-b5df-13ed52034deb\",\"tick\":8,\"state\":\"Tick 8: 2 online, 1 relay queued, 0 backprops pending\",\"messages_delivered\":0,\"messages_sent\":1}","target":"indras_simulation::lua::bindings::logging","filename":"simulation/src/lua/bindings/logging.rs","line_number":95}
{"timestamp":"2026-01-22T17:25:48.121448Z","level":"INFO","message":"Phase 4: A going offline","source":"lua","fields":"{\"tick\":8,\"trace_id\":\"df67cc90-16bc-4ea6-b5df-13ed52034deb\"}","target":"indras_simulation::lua::bindings::logging","filename":"simulation/src/lua/bindings/logging.rs","line_number":95}
{"timestamp":"2026-01-22T17:25:48.121487Z","level":"INFO","message":"A is now offline, B is the only online peer","source":"lua","fields":"{\"trace_id\":\"df67cc90-16bc-4ea6-b5df-13ed52034deb\",\"tick\":8,\"online_peers\":1}","target":"indras_simulation::lua::bindings::logging","filename":"simulation/src/lua/bindings/logging.rs","line_number":95}
{"timestamp":"2026-01-22T17:25:48.121545Z","level":"INFO","message":"Phase 5: C coming back online","source":"lua","fields":"{\"tick\":11,\"trace_id\":\"df67cc90-16bc-4ea6-b5df-13ed52034deb\"}","target":"indras_simulation::lua::bindings::logging","filename":"simulation/src/lua/bindings/logging.rs","line_number":95}
{"timestamp":"2026-01-22T17:25:48.121574Z","level":"INFO","message":"C is back online, should receive message from B","source":"lua","fields":"{\"tick\":11,\"trace_id\":\"df67cc90-16bc-4ea6-b5df-13ed52034deb\"}","target":"indras_simulation::lua::bindings::logging","filename":"simulation/src/lua/bindings/logging.rs","line_number":95}
{"timestamp":"2026-01-22T17:25:48.121599Z","level":"INFO","message":"Packet A#0 delivered to C via B at tick 12 (latency: 8 ticks)","target":"indras_simulation::simulation","filename":"simulation/src/simulation.rs","line_number":300}
{"timestamp":"2026-01-22T17:25:48.121673Z","level":"INFO","message":"After C reconnection","source":"lua","fields":"{\"messages_delivered\":1,\"trace_id\":\"df67cc90-16bc-4ea6-b5df-13ed52034deb\",\"state\":\"Tick 21: 2 online, 0 relay queued, 1 backprops pending\",\"tick\":21,\"total_hops\":2}","target":"indras_simulation::lua::bindings::logging","filename":"simulation/src/lua/bindings/logging.rs","line_number":95}
{"timestamp":"2026-01-22T17:25:48.121739Z","level":"INFO","message":"Offline relay scenario completed successfully","source":"lua","fields":"{\"average_latency\":8.0,\"messages_sent\":1,\"trace_id\":\"df67cc90-16bc-4ea6-b5df-13ed52034deb\",\"final_tick\":21,\"total_hops\":2,\"delivery_rate\":1.0,\"messages_delivered\":1}","target":"indras_simulation::lua::bindings::logging","filename":"simulation/src/lua/bindings/logging.rs","line_number":95}
{"timestamp":"2026-01-22T17:25:48.121790Z","level":"INFO","message":"Relay event found","source":"lua","fields":"{\"tick\":4,\"from\":\"A\",\"via\":\"B\",\"trace_id\":\"df67cc90-16bc-4ea6-b5df-13ed52034deb\"}","target":"indras_simulation::lua::bindings::logging","filename":"simulation/src/lua/bindings/logging.rs","line_number":95}
{"timestamp":"2026-01-22T17:25:48.121815Z","level":"INFO","message":"Delivery event found","source":"lua","fields":"{\"to\":\"C\",\"tick\":12,\"trace_id\":\"df67cc90-16bc-4ea6-b5df-13ed52034deb\"}","target":"indras_simulation::lua::bindings::logging","filename":"simulation/src/lua/bindings/logging.rs","line_number":95}
{"timestamp":"2026-01-22T17:25:48.121847Z","level":"INFO","message":"Offline relay test PASSED","source":"lua","fields":"{\"trace_id\":\"df67cc90-16bc-4ea6-b5df-13ed52034deb\",\"message_path\":\"A -> B (relay) -> C (delivered)\",\"relay_events\":1}","target":"indras_simulation::lua::bindings::logging","filename":"simulation/src/lua/bindings/logging.rs","line_number":95}
{"timestamp":"2026-01-22T17:25:48.121864Z","level":"INFO","message":"Script completed successfully","target":"lua_runner","filename":"simulation/src/bin/lua_runner.rs","line_number":107}
