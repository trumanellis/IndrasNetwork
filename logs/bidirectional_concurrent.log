{"timestamp":"2026-01-22T17:25:43.582351Z","level":"INFO","message":"Running Lua script: simulation/scripts/scenarios/bidirectional_concurrent.lua","target":"lua_runner","filename":"simulation/src/bin/lua_runner.rs","line_number":93}
{"timestamp":"2026-01-22T17:25:43.584697Z","level":"INFO","message":"Starting bidirectional concurrent scenario","source":"lua","fields":"{\"scenario\":\"bidirectional_concurrent\",\"description\":\"Tests simultaneous messages in opposite directions\",\"trace_id\":\"7b5ab81a-c2dc-4a0b-886a-380b9388cc3b\"}","target":"indras_simulation::lua::bindings::logging","filename":"simulation/src/lua/bindings/logging.rs","line_number":95}
{"timestamp":"2026-01-22T17:25:43.584994Z","level":"INFO","message":"Created line topology","source":"lua","fields":"{\"trace_id\":\"7b5ab81a-c2dc-4a0b-886a-380b9388cc3b\",\"edges\":2,\"peers\":3,\"topology\":\"A-B-C\"}","target":"indras_simulation::lua::bindings::logging","filename":"simulation/src/lua/bindings/logging.rs","line_number":95}
{"timestamp":"2026-01-22T17:25:43.585400Z","level":"INFO","message":"All peers online","source":"lua","fields":"{\"tick\":0,\"trace_id\":\"7b5ab81a-c2dc-4a0b-886a-380b9388cc3b\"}","target":"indras_simulation::lua::bindings::logging","filename":"simulation/src/lua/bindings/logging.rs","line_number":95}
{"timestamp":"2026-01-22T17:25:43.585423Z","level":"INFO","message":"Sending bidirectional messages","source":"lua","fields":"{\"trace_id\":\"7b5ab81a-c2dc-4a0b-886a-380b9388cc3b\"}","target":"indras_simulation::lua::bindings::logging","filename":"simulation/src/lua/bindings/logging.rs","line_number":95}
{"timestamp":"2026-01-22T17:25:43.585632Z","level":"INFO","message":"Both messages queued at same tick","source":"lua","fields":"{\"sent\":2,\"tick\":0,\"trace_id\":\"7b5ab81a-c2dc-4a0b-886a-380b9388cc3b\"}","target":"indras_simulation::lua::bindings::logging","filename":"simulation/src/lua/bindings/logging.rs","line_number":95}
{"timestamp":"2026-01-22T17:25:43.585784Z","level":"INFO","message":"Packet A#0 delivered to C via B at tick 1 (latency: 0 ticks)","target":"indras_simulation::simulation","filename":"simulation/src/simulation.rs","line_number":300}
{"timestamp":"2026-01-22T17:25:43.585802Z","level":"INFO","message":"Packet C#0 delivered to A via B at tick 1 (latency: 0 ticks)","target":"indras_simulation::simulation","filename":"simulation/src/simulation.rs","line_number":300}
{"timestamp":"2026-01-22T17:25:43.585840Z","level":"INFO","message":"Back-propagation complete for packet C#0 (latency: 1 ticks)","target":"indras_simulation::simulation","filename":"simulation/src/simulation.rs","line_number":619}
{"timestamp":"2026-01-22T17:25:43.585855Z","level":"INFO","message":"Back-propagation complete for packet A#0 (latency: 1 ticks)","target":"indras_simulation::simulation","filename":"simulation/src/simulation.rs","line_number":619}
{"timestamp":"2026-01-22T17:25:43.585924Z","level":"INFO","message":"Both messages delivered","source":"lua","fields":"{\"delivered\":2,\"tick\":10,\"trace_id\":\"7b5ab81a-c2dc-4a0b-886a-380b9388cc3b\"}","target":"indras_simulation::lua::bindings::logging","filename":"simulation/src/lua/bindings/logging.rs","line_number":95}
{"timestamp":"2026-01-22T17:25:43.586010Z","level":"INFO","message":"Relay events:","source":"lua","fields":"{\"trace_id\":\"7b5ab81a-c2dc-4a0b-886a-380b9388cc3b\",\"count\":2}","target":"indras_simulation::lua::bindings::logging","filename":"simulation/src/lua/bindings/logging.rs","line_number":95}
{"timestamp":"2026-01-22T17:25:43.586063Z","level":"INFO","message":"  Relay 1","source":"lua","fields":"{\"packet_id\":\"A#0\",\"tick\":1,\"via\":\"B\",\"trace_id\":\"7b5ab81a-c2dc-4a0b-886a-380b9388cc3b\",\"from\":\"A\",\"to\":\"C\"}","target":"indras_simulation::lua::bindings::logging","filename":"simulation/src/lua/bindings/logging.rs","line_number":95}
{"timestamp":"2026-01-22T17:25:43.586117Z","level":"INFO","message":"  Relay 2","source":"lua","fields":"{\"via\":\"B\",\"trace_id\":\"7b5ab81a-c2dc-4a0b-886a-380b9388cc3b\",\"tick\":1,\"to\":\"A\",\"from\":\"C\",\"packet_id\":\"C#0\"}","target":"indras_simulation::lua::bindings::logging","filename":"simulation/src/lua/bindings/logging.rs","line_number":95}
{"timestamp":"2026-01-22T17:25:43.586156Z","level":"INFO","message":"Delivery events:","source":"lua","fields":"{\"count\":2,\"trace_id\":\"7b5ab81a-c2dc-4a0b-886a-380b9388cc3b\"}","target":"indras_simulation::lua::bindings::logging","filename":"simulation/src/lua/bindings/logging.rs","line_number":95}
{"timestamp":"2026-01-22T17:25:43.586198Z","level":"INFO","message":"  Delivery 1","source":"lua","fields":"{\"to\":\"C\",\"trace_id\":\"7b5ab81a-c2dc-4a0b-886a-380b9388cc3b\",\"tick\":1,\"packet_id\":\"A#0\"}","target":"indras_simulation::lua::bindings::logging","filename":"simulation/src/lua/bindings/logging.rs","line_number":95}
{"timestamp":"2026-01-22T17:25:43.586243Z","level":"INFO","message":"  Delivery 2","source":"lua","fields":"{\"trace_id\":\"7b5ab81a-c2dc-4a0b-886a-380b9388cc3b\",\"to\":\"A\",\"tick\":1,\"packet_id\":\"C#0\"}","target":"indras_simulation::lua::bindings::logging","filename":"simulation/src/lua/bindings/logging.rs","line_number":95}
{"timestamp":"2026-01-22T17:25:43.586282Z","level":"INFO","message":"Testing multiple concurrent message pairs","source":"lua","fields":"{\"trace_id\":\"7b5ab81a-c2dc-4a0b-886a-380b9388cc3b\"}","target":"indras_simulation::lua::bindings::logging","filename":"simulation/src/lua/bindings/logging.rs","line_number":95}
{"timestamp":"2026-01-22T17:25:43.586430Z","level":"INFO","message":"Packet A#1 delivered to C via B at tick 11 (latency: 0 ticks)","target":"indras_simulation::simulation","filename":"simulation/src/simulation.rs","line_number":300}
{"timestamp":"2026-01-22T17:25:43.586459Z","level":"INFO","message":"Packet C#1 delivered to A via B at tick 11 (latency: 0 ticks)","target":"indras_simulation::simulation","filename":"simulation/src/simulation.rs","line_number":300}
{"timestamp":"2026-01-22T17:25:43.586480Z","level":"INFO","message":"Packet A#2 delivered to C via B at tick 11 (latency: 0 ticks)","target":"indras_simulation::simulation","filename":"simulation/src/simulation.rs","line_number":300}
{"timestamp":"2026-01-22T17:25:43.586500Z","level":"INFO","message":"Packet C#2 delivered to A via B at tick 11 (latency: 0 ticks)","target":"indras_simulation::simulation","filename":"simulation/src/simulation.rs","line_number":300}
{"timestamp":"2026-01-22T17:25:43.586519Z","level":"INFO","message":"Packet A#3 delivered to C via B at tick 11 (latency: 0 ticks)","target":"indras_simulation::simulation","filename":"simulation/src/simulation.rs","line_number":300}
{"timestamp":"2026-01-22T17:25:43.586539Z","level":"INFO","message":"Packet C#3 delivered to A via B at tick 11 (latency: 0 ticks)","target":"indras_simulation::simulation","filename":"simulation/src/simulation.rs","line_number":300}
{"timestamp":"2026-01-22T17:25:43.586559Z","level":"INFO","message":"Packet A#4 delivered to C via B at tick 11 (latency: 0 ticks)","target":"indras_simulation::simulation","filename":"simulation/src/simulation.rs","line_number":300}
{"timestamp":"2026-01-22T17:25:43.586580Z","level":"INFO","message":"Packet C#4 delivered to A via B at tick 11 (latency: 0 ticks)","target":"indras_simulation::simulation","filename":"simulation/src/simulation.rs","line_number":300}
{"timestamp":"2026-01-22T17:25:43.586601Z","level":"INFO","message":"Packet A#5 delivered to C via B at tick 11 (latency: 0 ticks)","target":"indras_simulation::simulation","filename":"simulation/src/simulation.rs","line_number":300}
{"timestamp":"2026-01-22T17:25:43.586621Z","level":"INFO","message":"Packet C#5 delivered to A via B at tick 11 (latency: 0 ticks)","target":"indras_simulation::simulation","filename":"simulation/src/simulation.rs","line_number":300}
{"timestamp":"2026-01-22T17:25:43.586655Z","level":"INFO","message":"Back-propagation complete for packet C#5 (latency: 1 ticks)","target":"indras_simulation::simulation","filename":"simulation/src/simulation.rs","line_number":619}
{"timestamp":"2026-01-22T17:25:43.586671Z","level":"INFO","message":"Back-propagation complete for packet A#5 (latency: 1 ticks)","target":"indras_simulation::simulation","filename":"simulation/src/simulation.rs","line_number":619}
{"timestamp":"2026-01-22T17:25:43.586687Z","level":"INFO","message":"Back-propagation complete for packet C#4 (latency: 1 ticks)","target":"indras_simulation::simulation","filename":"simulation/src/simulation.rs","line_number":619}
{"timestamp":"2026-01-22T17:25:43.586702Z","level":"INFO","message":"Back-propagation complete for packet A#4 (latency: 1 ticks)","target":"indras_simulation::simulation","filename":"simulation/src/simulation.rs","line_number":619}
{"timestamp":"2026-01-22T17:25:43.586717Z","level":"INFO","message":"Back-propagation complete for packet C#3 (latency: 1 ticks)","target":"indras_simulation::simulation","filename":"simulation/src/simulation.rs","line_number":619}
{"timestamp":"2026-01-22T17:25:43.586732Z","level":"INFO","message":"Back-propagation complete for packet A#3 (latency: 1 ticks)","target":"indras_simulation::simulation","filename":"simulation/src/simulation.rs","line_number":619}
{"timestamp":"2026-01-22T17:25:43.586747Z","level":"INFO","message":"Back-propagation complete for packet C#2 (latency: 1 ticks)","target":"indras_simulation::simulation","filename":"simulation/src/simulation.rs","line_number":619}
{"timestamp":"2026-01-22T17:25:43.586763Z","level":"INFO","message":"Back-propagation complete for packet A#2 (latency: 1 ticks)","target":"indras_simulation::simulation","filename":"simulation/src/simulation.rs","line_number":619}
{"timestamp":"2026-01-22T17:25:43.586781Z","level":"INFO","message":"Back-propagation complete for packet C#1 (latency: 1 ticks)","target":"indras_simulation::simulation","filename":"simulation/src/simulation.rs","line_number":619}
{"timestamp":"2026-01-22T17:25:43.586798Z","level":"INFO","message":"Back-propagation complete for packet A#1 (latency: 1 ticks)","target":"indras_simulation::simulation","filename":"simulation/src/simulation.rs","line_number":619}
{"timestamp":"2026-01-22T17:25:43.586955Z","level":"INFO","message":"All concurrent messages delivered","source":"lua","fields":"{\"trace_id\":\"7b5ab81a-c2dc-4a0b-886a-380b9388cc3b\",\"total_sent\":12,\"total_delivered\":12}","target":"indras_simulation::lua::bindings::logging","filename":"simulation/src/lua/bindings/logging.rs","line_number":95}
{"timestamp":"2026-01-22T17:25:43.586993Z","level":"INFO","message":"Testing with B also sending messages","source":"lua","fields":"{\"trace_id\":\"7b5ab81a-c2dc-4a0b-886a-380b9388cc3b\"}","target":"indras_simulation::lua::bindings::logging","filename":"simulation/src/lua/bindings/logging.rs","line_number":95}
{"timestamp":"2026-01-22T17:25:43.587037Z","level":"INFO","message":"Packet B#0 delivered to A via B at tick 31 (latency: 0 ticks)","target":"indras_simulation::simulation","filename":"simulation/src/simulation.rs","line_number":300}
{"timestamp":"2026-01-22T17:25:43.587061Z","level":"INFO","message":"Packet B#1 delivered to C via B at tick 31 (latency: 0 ticks)","target":"indras_simulation::simulation","filename":"simulation/src/simulation.rs","line_number":300}
{"timestamp":"2026-01-22T17:25:43.587095Z","level":"INFO","message":"Packet A#6 delivered to C via B at tick 31 (latency: 0 ticks)","target":"indras_simulation::simulation","filename":"simulation/src/simulation.rs","line_number":300}
{"timestamp":"2026-01-22T17:25:43.587118Z","level":"INFO","message":"Packet C#6 delivered to A via B at tick 31 (latency: 0 ticks)","target":"indras_simulation::simulation","filename":"simulation/src/simulation.rs","line_number":300}
{"timestamp":"2026-01-22T17:25:43.587146Z","level":"INFO","message":"Back-propagation complete for packet C#6 (latency: 1 ticks)","target":"indras_simulation::simulation","filename":"simulation/src/simulation.rs","line_number":619}
{"timestamp":"2026-01-22T17:25:43.587164Z","level":"INFO","message":"Back-propagation complete for packet A#6 (latency: 1 ticks)","target":"indras_simulation::simulation","filename":"simulation/src/simulation.rs","line_number":619}
{"timestamp":"2026-01-22T17:25:43.587295Z","level":"INFO","message":"Final state check","source":"lua","fields":"{\"trace_id\":\"7b5ab81a-c2dc-4a0b-886a-380b9388cc3b\",\"state\":\"Tick 40: 3 online, 0 relay queued, 0 backprops pending\"}","target":"indras_simulation::lua::bindings::logging","filename":"simulation/src/lua/bindings/logging.rs","line_number":95}
{"timestamp":"2026-01-22T17:25:43.587487Z","level":"INFO","message":"Bidirectional concurrent scenario PASSED","source":"lua","fields":"{\"trace_id\":\"7b5ab81a-c2dc-4a0b-886a-380b9388cc3b\",\"final_tick\":40,\"total_sent\":16,\"delivery_rate\":1.0,\"total_dropped\":0,\"average_hops\":1.875,\"total_delivered\":16,\"average_latency\":0.0}","target":"indras_simulation::lua::bindings::logging","filename":"simulation/src/lua/bindings/logging.rs","line_number":95}
{"timestamp":"2026-01-22T17:25:43.587525Z","level":"INFO","message":"Script completed successfully","target":"lua_runner","filename":"simulation/src/bin/lua_runner.rs","line_number":107}
