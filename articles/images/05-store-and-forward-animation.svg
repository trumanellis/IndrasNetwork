<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 960 540">
  <defs>
    <radialGradient id="bg" cx="50%" cy="50%" r="70%">
      <stop offset="0%" stop-color="#0a0e1a"/>
      <stop offset="100%" stop-color="#020308"/>
    </radialGradient>
    <radialGradient id="on-gold" cx="40%" cy="35%" r="55%">
      <stop offset="0%" stop-color="#ffe8a0"/>
      <stop offset="60%" stop-color="#d4a843"/>
      <stop offset="100%" stop-color="#8a6b20"/>
    </radialGradient>
    <radialGradient id="on-teal" cx="40%" cy="35%" r="55%">
      <stop offset="0%" stop-color="#a0ffe8"/>
      <stop offset="60%" stop-color="#43b4a0"/>
      <stop offset="100%" stop-color="#1a5a50"/>
    </radialGradient>
    <radialGradient id="on-blue" cx="40%" cy="35%" r="55%">
      <stop offset="0%" stop-color="#a0d4ff"/>
      <stop offset="60%" stop-color="#4390d4"/>
      <stop offset="100%" stop-color="#1a4a7a"/>
    </radialGradient>
    <radialGradient id="on-rose" cx="40%" cy="35%" r="55%">
      <stop offset="0%" stop-color="#ffd0e8"/>
      <stop offset="60%" stop-color="#d470a0"/>
      <stop offset="100%" stop-color="#7a2050"/>
    </radialGradient>
    <radialGradient id="off" cx="50%" cy="50%" r="50%">
      <stop offset="0%" stop-color="#2a2a3a"/>
      <stop offset="100%" stop-color="#12121a"/>
    </radialGradient>
    <radialGradient id="pkt" cx="40%" cy="35%" r="50%">
      <stop offset="0%" stop-color="#ffffff"/>
      <stop offset="40%" stop-color="#ffe880"/>
      <stop offset="100%" stop-color="#d4a843"/>
    </radialGradient>
    <radialGradient id="rcpt" cx="40%" cy="35%" r="50%">
      <stop offset="0%" stop-color="#ffffff"/>
      <stop offset="40%" stop-color="#80ffea"/>
      <stop offset="100%" stop-color="#43b4a0"/>
    </radialGradient>

    <filter id="glow" x="-60%" y="-60%" width="220%" height="220%">
      <feGaussianBlur stdDeviation="5" result="b"/>
      <feMerge><feMergeNode in="b"/><feMergeNode in="SourceGraphic"/></feMerge>
    </filter>
    <filter id="glow-sm" x="-50%" y="-50%" width="200%" height="200%">
      <feGaussianBlur stdDeviation="3" result="b"/>
      <feMerge><feMergeNode in="b"/><feMergeNode in="SourceGraphic"/></feMerge>
    </filter>

    <!--
      TOPOLOGY (diamond):
        Zara(150,260) ——— Ren(440,120) ——— Isla(770,260)
        Zara(150,260) ——— Suki(440,400) —— Isla(770,260)

      TIMELINE (60s):
        0-5%     Establish. Isla OFF. Others ON.
        5-7%     Zara send flash.
        7-15%    Two packets: Zara→Ren & Zara→Suki (parallel).
        15-17%   Both store (SEALED badges, store rings).
        17%      Zara goes OFFLINE.
        22%      Ren goes OFFLINE.
        22-28%   Suki alone holding.
        28%      Isla comes ONLINE.
        30-35%   Suki→Isla delivery.
        35-37%   Isla receive flash.
        38-42%   Receipts: Isla→Suki (success) & Isla→Ren (fizzle+LOST).
        43-48%   Suki purges sealed copy (PURGED badge).
        48%      Ren comes back ONLINE (still holding sealed copy).
        48-50%   Ren→Isla ping.
        50-55%   Isla→Ren delayed receipt.
        55-59%   Ren purges sealed copy (PURGED badge).
        58%      Suki goes OFFLINE.
        60%      Isla goes OFFLINE.
        63%      Zara comes back ONLINE.
        63-65%   Zara→Ren ping.
        65-70%   Ren→Zara receipt.
        70-72%   Zara confirm flash.
        74-92%   Closing caption.
        95-100%  Reset.
    -->

    <style>
      .topo { stroke: #ffffff; stroke-width: 0.8; opacity: 0.33; stroke-dasharray: 3 5; }

      /* Node on/off states */
      .zara-on  { animation: zon 60s ease infinite; }
      .zara-off { animation: zoff 60s ease infinite; }
      @keyframes zon  { 0%,15%{opacity:1} 17%,61%{opacity:0} 63%,100%{opacity:1} }
      @keyframes zoff { 0%,15%{opacity:0} 17%,61%{opacity:1} 63%,100%{opacity:0} }

      .ren-on  { animation: ron 60s ease infinite; }
      .ren-off { animation: roff 60s ease infinite; }
      @keyframes ron  { 0%,20%{opacity:1} 22%,46%{opacity:0} 48%,100%{opacity:1} }
      @keyframes roff { 0%,20%{opacity:0} 22%,46%{opacity:1} 48%,100%{opacity:0} }

      .suki-on  { animation: son 60s ease infinite; }
      .suki-off { animation: soff 60s ease infinite; }
      @keyframes son  { 0%,56%{opacity:1} 58%,93%{opacity:0} 95%,100%{opacity:1} }
      @keyframes soff { 0%,56%{opacity:0} 58%,93%{opacity:1} 95%,100%{opacity:0} }

      .isla-on  { animation: ion 60s ease infinite; }
      .isla-off { animation: ioff 60s ease infinite; }
      @keyframes ion  { 0%,26%{opacity:0} 28%,58%{opacity:1} 60%,100%{opacity:0} }
      @keyframes ioff { 0%,26%{opacity:1} 28%,58%{opacity:0} 60%,100%{opacity:1} }

      /* Live edges */
      .live-zr { stroke:#00705a; stroke-width:1.2; animation: lzr 60s ease infinite; }
      @keyframes lzr { 0%,15%{opacity:0.22} 17%,61%{opacity:0} 63%,100%{opacity:0.22} }

      .live-zs { stroke:#00705a; stroke-width:1.2; animation: lzs 60s ease infinite; }
      @keyframes lzs { 0%,15%{opacity:0.22} 17%,93%{opacity:0} 95%,100%{opacity:0.22} }

      .live-ri { stroke:#00705a; stroke-width:1.2; animation: lri 60s ease infinite; }
      @keyframes lri { 0%,46%{opacity:0} 48%,58%{opacity:0.22} 60%,100%{opacity:0} }

      .live-si { stroke:#00705a; stroke-width:1.2; animation: lsi 60s ease infinite; }
      @keyframes lsi { 0%,26%{opacity:0} 28%,56%{opacity:0.22} 58%,100%{opacity:0} }

      /* Edge glows — forward gold */
      .eg-zr { animation: egzr 60s ease infinite; }
      @keyframes egzr { 0%,6%{opacity:0} 7%{opacity:0.3} 14%{opacity:0.3} 16%{opacity:0} 100%{opacity:0} }

      .eg-zs { animation: egzs 60s ease infinite; }
      @keyframes egzs { 0%,6%{opacity:0} 7%{opacity:0.3} 14%{opacity:0.3} 16%{opacity:0} 100%{opacity:0} }

      .eg-si { animation: egsi 60s ease infinite; }
      @keyframes egsi { 0%,29%{opacity:0} 30%{opacity:0.3} 34%{opacity:0.3} 36%{opacity:0} 100%{opacity:0} }

      /* Edge glows — receipt teal */
      .ec-is { animation: ecis 60s ease infinite; }
      @keyframes ecis { 0%,37%{opacity:0} 38%{opacity:0.25} 41%{opacity:0.25} 43%{opacity:0} 100%{opacity:0} }

      .ec-ir { animation: ecir 60s ease infinite; }
      @keyframes ecir { 0%,37%{opacity:0} 38%{opacity:0.2} 40%{opacity:0.05} 41%{opacity:0} 100%{opacity:0} }

      .ec-ir2 { animation: ecir2 60s ease infinite; }
      @keyframes ecir2 { 0%,49%{opacity:0} 50%{opacity:0.25} 54%{opacity:0.25} 56%{opacity:0} 100%{opacity:0} }

      .ec-rz { animation: ecrz 60s ease infinite; }
      @keyframes ecrz { 0%,64%{opacity:0} 65%{opacity:0.25} 69%{opacity:0.25} 71%{opacity:0} 100%{opacity:0} }

      /* Labels */
      .lbl { font-family:'Georgia',serif; font-size:13px; text-anchor:middle; }
      .caption { font-family:'Georgia',serif; font-size:14px; fill:#c0c0d8; letter-spacing:0.5px; }
    </style>
  </defs>

  <!-- Background -->
  <rect width="960" height="540" fill="url(#bg)"/>

  <!-- Title -->
  <text x="480" y="38" font-family="'Georgia',serif" font-size="20" font-weight="bold" fill="#d4a843" text-anchor="middle" letter-spacing="3px" opacity="0.85">INDRA'S NETWORK</text>
  <text x="480" y="56" font-family="'Georgia',serif" font-size="11" fill="#6a6a8a" text-anchor="middle" letter-spacing="1.5px" font-style="italic">store-and-forward relay</text>
  <line x1="340" y1="65" x2="620" y2="65" stroke="#d4a843" stroke-width="0.5" opacity="0.25"/>

  <circle cx="80" cy="35" r="0.6" fill="#fff" opacity="0.15"/>
  <circle cx="280" cy="20" r="0.5" fill="#fff" opacity="0.1"/>
  <circle cx="520" cy="30" r="0.7" fill="#fff" opacity="0.12"/>
  <circle cx="730" cy="25" r="0.5" fill="#fff" opacity="0.1"/>
  <circle cx="900" cy="50" r="0.6" fill="#fff" opacity="0.12"/>
  <circle cx="160" cy="478" r="0.5" fill="#fff" opacity="0.1"/>
  <circle cx="620" cy="468" r="0.6" fill="#fff" opacity="0.08"/>

  <!-- ========= BACKGROUND NODES (ambient mesh, not part of relay) ========= -->
  <!-- Mira — upper far left -->
  <circle cx="68" cy="130" r="4.5" fill="url(#on-teal)" filter="url(#glow-sm)" opacity="0.25"/>
  <text x="68" y="148" font-family="'Georgia',serif" font-size="10" fill="#3a5a50" text-anchor="middle">Mira</text>
  <!-- Kai — top center-right -->
  <circle cx="630" cy="82" r="4.5" fill="url(#on-teal)" filter="url(#glow-sm)" opacity="0.25"/>
  <text x="630" y="100" font-family="'Georgia',serif" font-size="10" fill="#3a5a50" text-anchor="middle">Kai</text>
  <!-- Juno — lower far right -->
  <circle cx="880" cy="410" r="4.5" fill="url(#on-rose)" filter="url(#glow-sm)" opacity="0.25"/>
  <text x="880" y="428" font-family="'Georgia',serif" font-size="10" fill="#6a3050" text-anchor="middle">Juno</text>

  <!-- ========= TOPOLOGY UNDERLAY ========= -->
  <!-- Main relay diamond -->
  <line x1="150" y1="260" x2="440" y2="120" class="topo"/>
  <line x1="150" y1="260" x2="440" y2="400" class="topo"/>
  <line x1="440" y1="120" x2="770" y2="260" class="topo"/>
  <line x1="440" y1="400" x2="770" y2="260" class="topo"/>
  <!-- Background edges (ambient mesh, fainter) -->
  <line x1="68" y1="130" x2="150" y2="260" class="topo" opacity="0.15"/>
  <line x1="630" y1="82" x2="440" y2="120" class="topo" opacity="0.15"/>
  <line x1="880" y1="410" x2="770" y2="260" class="topo" opacity="0.15"/>

  <!-- ========= LIVE EDGES ========= -->
  <line x1="150" y1="260" x2="440" y2="120" class="live-zr"/>
  <line x1="150" y1="260" x2="440" y2="400" class="live-zs"/>
  <line x1="440" y1="120" x2="770" y2="260" class="live-ri"/>
  <line x1="440" y1="400" x2="770" y2="260" class="live-si"/>

  <!-- ========= PACKET PATH GLOWS ========= -->
  <line x1="150" y1="260" x2="440" y2="120" stroke="#d4a843" stroke-width="2" class="eg-zr" filter="url(#glow-sm)" opacity="0"/>
  <line x1="150" y1="260" x2="440" y2="400" stroke="#d4a843" stroke-width="2" class="eg-zs" filter="url(#glow-sm)" opacity="0"/>
  <line x1="440" y1="400" x2="770" y2="260" stroke="#d4a843" stroke-width="2" class="eg-si" filter="url(#glow-sm)" opacity="0"/>
  <line x1="770" y1="260" x2="440" y2="400" stroke="#43b4a0" stroke-width="1.5" class="ec-is" filter="url(#glow-sm)" opacity="0"/>
  <line x1="770" y1="260" x2="605" y2="190" stroke="#43b4a0" stroke-width="1.5" class="ec-ir" filter="url(#glow-sm)" opacity="0"/>
  <line x1="770" y1="260" x2="440" y2="120" stroke="#43b4a0" stroke-width="1.5" class="ec-ir2" filter="url(#glow-sm)" opacity="0"/>
  <line x1="440" y1="120" x2="150" y2="260" stroke="#43b4a0" stroke-width="1.5" class="ec-rz" filter="url(#glow-sm)" opacity="0"/>

  <!-- ========= NODES ========= -->

  <!-- ZARA (gold, sender) -->
  <circle cx="150" cy="260" r="12" fill="url(#on-gold)" filter="url(#glow)" class="zara-on"/>
  <circle cx="150" cy="260" r="12" fill="url(#off)" class="zara-off"/>
  <circle cx="147" cy="256" r="3.5" fill="#fff8e0" opacity="0.5" class="zara-on"/>
  <text x="150" y="290" class="lbl" fill="#d4a843">Zara</text>
  <!-- Zara send flash -->
  <circle cx="150" cy="260" r="12" fill="#ffe880" filter="url(#glow)" opacity="0">
    <animate attributeName="opacity" dur="60s" repeatCount="indefinite"
      values="0;0;0.6;0;0" keyTimes="0;0.05;0.06;0.08;1"/>
  </circle>
  <!-- Zara return flash -->
  <circle cx="150" cy="260" r="12" fill="#ffe880" filter="url(#glow)" opacity="0">
    <animate attributeName="opacity" dur="60s" repeatCount="indefinite"
      values="0;0;0.4;0;0" keyTimes="0;0.62;0.63;0.65;1"/>
  </circle>
  <!-- Zara confirm flash (teal) -->
  <circle cx="150" cy="260" r="12" fill="#80ffea" filter="url(#glow)" opacity="0">
    <animate attributeName="opacity" dur="60s" repeatCount="indefinite"
      values="0;0;0.6;0;0" keyTimes="0;0.70;0.71;0.73;1"/>
  </circle>
  <!-- Zara OFFLINE label -->
  <text x="150" y="305" font-family="'SF Mono',monospace" font-size="9" fill="#4a4a6a" text-anchor="middle" letter-spacing="1px" opacity="0">
    OFFLINE
    <animate attributeName="opacity" dur="60s" repeatCount="indefinite"
      values="0;0;0.5;0.5;0;0" keyTimes="0;0.16;0.18;0.61;0.63;1"/>
  </text>

  <!-- REN (teal, relay A) -->
  <circle cx="440" cy="120" r="11" fill="url(#on-teal)" filter="url(#glow)" class="ren-on"/>
  <circle cx="440" cy="120" r="11" fill="url(#off)" class="ren-off"/>
  <circle cx="437" cy="117" r="2.5" fill="#d0fff0" opacity="0.4" class="ren-on"/>
  <text x="440" y="150" class="lbl" fill="#43b4a0">Ren</text>
  <!-- Ren return flash -->
  <circle cx="440" cy="120" r="11" fill="#a0ffe8" filter="url(#glow)" opacity="0">
    <animate attributeName="opacity" dur="60s" repeatCount="indefinite"
      values="0;0;0.4;0;0" keyTimes="0;0.47;0.48;0.50;1"/>
  </circle>
  <!-- Ren receives delayed receipt flash -->
  <circle cx="440" cy="120" r="11" fill="#80ffea" filter="url(#glow)" opacity="0">
    <animate attributeName="opacity" dur="60s" repeatCount="indefinite"
      values="0;0;0.4;0;0" keyTimes="0;0.54;0.55;0.57;1"/>
  </circle>
  <!-- Ren store ring -->
  <circle cx="440" cy="120" r="16" fill="none" stroke="#d4a843" stroke-width="1" opacity="0">
    <animate attributeName="opacity" dur="60s" repeatCount="indefinite"
      values="0;0;0.3;0;0.3;0;0" keyTimes="0;0.15;0.16;0.18;0.19;0.21;1"/>
    <animate attributeName="r" dur="60s" repeatCount="indefinite"
      values="16;16;16;22;16;22;16" keyTimes="0;0.15;0.16;0.18;0.19;0.21;1"/>
  </circle>
  <!-- Ren OFFLINE label -->
  <text x="440" y="165" font-family="'SF Mono',monospace" font-size="9" fill="#4a4a6a" text-anchor="middle" letter-spacing="1px" opacity="0">
    OFFLINE
    <animate attributeName="opacity" dur="60s" repeatCount="indefinite"
      values="0;0;0.5;0.5;0;0" keyTimes="0;0.21;0.23;0.46;0.48;1"/>
  </text>

  <!-- SUKI (rose, relay B) -->
  <circle cx="440" cy="400" r="11" fill="url(#on-rose)" filter="url(#glow)" class="suki-on"/>
  <circle cx="440" cy="400" r="11" fill="url(#off)" class="suki-off"/>
  <circle cx="437" cy="397" r="2.5" fill="#ffe0f0" opacity="0.4" class="suki-on"/>
  <text x="440" y="430" class="lbl" fill="#d470a0">Suki</text>
  <!-- Suki store ring -->
  <circle cx="440" cy="400" r="18" fill="none" stroke="#d4a843" stroke-width="1" opacity="0">
    <animate attributeName="opacity" dur="60s" repeatCount="indefinite"
      values="0;0;0.3;0;0.3;0;0.3;0;0.3;0;0"
      keyTimes="0;0.15;0.16;0.18;0.19;0.21;0.22;0.24;0.25;0.29;1"/>
    <animate attributeName="r" dur="60s" repeatCount="indefinite"
      values="18;18;18;25;18;25;18;25;18;18;18"
      keyTimes="0;0.15;0.16;0.18;0.19;0.21;0.22;0.24;0.25;0.29;1"/>
  </circle>
  <!-- Suki receipt received flash -->
  <circle cx="440" cy="400" r="11" fill="#80ffea" filter="url(#glow)" opacity="0">
    <animate attributeName="opacity" dur="60s" repeatCount="indefinite"
      values="0;0;0.4;0;0" keyTimes="0;0.41;0.42;0.44;1"/>
  </circle>
  <!-- Suki OFFLINE label -->
  <text x="440" y="445" font-family="'SF Mono',monospace" font-size="9" fill="#4a4a6a" text-anchor="middle" letter-spacing="1px" opacity="0">
    OFFLINE
    <animate attributeName="opacity" dur="60s" repeatCount="indefinite"
      values="0;0;0.5;0.5;0;0" keyTimes="0;0.57;0.59;0.93;0.95;1"/>
  </text>

  <!-- ISLA (blue, destination) -->
  <circle cx="770" cy="260" r="12" fill="url(#off)" class="isla-off"/>
  <circle cx="770" cy="260" r="12" fill="url(#on-blue)" filter="url(#glow)" class="isla-on" opacity="0"/>
  <circle cx="767" cy="257" r="3" fill="#d0e8ff" opacity="0.4" class="isla-on"/>
  <text x="770" y="290" class="lbl" fill="#4390d4">Isla</text>
  <!-- Isla comes online flash -->
  <circle cx="770" cy="260" r="12" fill="#a0d4ff" filter="url(#glow)" opacity="0">
    <animate attributeName="opacity" dur="60s" repeatCount="indefinite"
      values="0;0;0.4;0;0" keyTimes="0;0.27;0.28;0.30;1"/>
  </circle>
  <!-- Isla receive message flash -->
  <circle cx="770" cy="260" r="12" fill="#a0d4ff" filter="url(#glow)" opacity="0">
    <animate attributeName="opacity" dur="60s" repeatCount="indefinite"
      values="0;0;0.6;0;0" keyTimes="0;0.34;0.35;0.38;1"/>
    <animate attributeName="r" dur="60s" repeatCount="indefinite"
      values="12;12;12;28;28" keyTimes="0;0.34;0.35;0.38;1"/>
  </circle>
  <!-- Isla OFFLINE label -->
  <text x="770" y="305" font-family="'SF Mono',monospace" font-size="9" fill="#4a4a6a" text-anchor="middle" letter-spacing="1px" opacity="0">
    OFFLINE
    <animate attributeName="opacity" dur="60s" repeatCount="indefinite"
      values="0.5;0.5;0;0;0.5;0.5" keyTimes="0;0.26;0.28;0.58;0.60;1"/>
  </text>

  <!-- ========= SEALED BADGES ========= -->
  <!-- On Ren (15-22%) -->
  <g opacity="0">
    <rect x="458" y="103" width="38" height="15" rx="3" fill="#0a0818" stroke="#d4a843" stroke-width="0.5"/>
    <text x="477" y="113" font-family="'SF Mono',monospace" font-size="8" fill="#d4a843" text-anchor="middle">SEALED</text>
    <animate attributeName="opacity" dur="60s" repeatCount="indefinite"
      values="0;0;0.8;0.8;0;0" keyTimes="0;0.14;0.16;0.20;0.22;1"/>
  </g>
  <!-- On Suki (15-42%: holds sealed message until receipt arrives) -->
  <g opacity="0">
    <rect x="458" y="383" width="38" height="15" rx="3" fill="#0a0818" stroke="#d4a843" stroke-width="0.5"/>
    <text x="477" y="393" font-family="'SF Mono',monospace" font-size="8" fill="#d4a843" text-anchor="middle">SEALED</text>
    <animate attributeName="opacity" dur="60s" repeatCount="indefinite"
      values="0;0;0.8;0.8;0;0" keyTimes="0;0.14;0.16;0.41;0.43;1"/>
  </g>
  <!-- PURGED badge on Suki (43-48%: after receipt, copy deleted) -->
  <g opacity="0">
    <rect x="455" y="383" width="44" height="15" rx="3" fill="#0a0818" stroke="#ff6b6b" stroke-width="0.5"/>
    <text x="477" y="393" font-family="'SF Mono',monospace" font-size="8" fill="#ff6b6b" text-anchor="middle">PURGED</text>
    <animate attributeName="opacity" dur="60s" repeatCount="indefinite"
      values="0;0;0.8;0.8;0;0" keyTimes="0;0.42;0.43;0.47;0.48;1"/>
  </g>

  <!-- SEALED badge on Ren reappears (48-55%: still holding from before he went offline) -->
  <g opacity="0">
    <rect x="458" y="103" width="38" height="15" rx="3" fill="#0a0818" stroke="#d4a843" stroke-width="0.5"/>
    <text x="477" y="113" font-family="'SF Mono',monospace" font-size="8" fill="#d4a843" text-anchor="middle">SEALED</text>
    <animate attributeName="opacity" dur="60s" repeatCount="indefinite"
      values="0;0;0.8;0.8;0;0" keyTimes="0;0.48;0.49;0.54;0.55;1"/>
  </g>
  <!-- PURGED badge on Ren (55-59%: after delayed receipt, copy deleted) -->
  <g opacity="0">
    <rect x="455" y="103" width="44" height="15" rx="3" fill="#0a0818" stroke="#ff6b6b" stroke-width="0.5"/>
    <text x="477" y="113" font-family="'SF Mono',monospace" font-size="8" fill="#ff6b6b" text-anchor="middle">PURGED</text>
    <animate attributeName="opacity" dur="60s" repeatCount="indefinite"
      values="0;0;0.8;0.8;0;0" keyTimes="0;0.55;0.56;0.59;0.60;1"/>
  </g>

  <!-- ========= TRAVELING PACKETS ========= -->

  <!-- Packet A: Zara→Ren (7-15%) gold -->
  <circle r="5" fill="url(#pkt)" filter="url(#glow)" opacity="0">
    <animate attributeName="cx" dur="60s" repeatCount="indefinite"
      values="150;150;150;440;440;440" keyTimes="0;0.06;0.07;0.15;0.16;1"/>
    <animate attributeName="cy" dur="60s" repeatCount="indefinite"
      values="260;260;260;120;120;120" keyTimes="0;0.06;0.07;0.15;0.16;1"/>
    <animate attributeName="opacity" dur="60s" repeatCount="indefinite"
      values="0;0;1;1;0;0" keyTimes="0;0.06;0.07;0.15;0.16;1"/>
  </circle>

  <!-- Packet B: Zara→Suki (7-15%) gold -->
  <circle r="5" fill="url(#pkt)" filter="url(#glow)" opacity="0">
    <animate attributeName="cx" dur="60s" repeatCount="indefinite"
      values="150;150;150;440;440;440" keyTimes="0;0.06;0.07;0.15;0.16;1"/>
    <animate attributeName="cy" dur="60s" repeatCount="indefinite"
      values="260;260;260;400;400;400" keyTimes="0;0.06;0.07;0.15;0.16;1"/>
    <animate attributeName="opacity" dur="60s" repeatCount="indefinite"
      values="0;0;1;1;0;0" keyTimes="0;0.06;0.07;0.15;0.16;1"/>
  </circle>

  <!-- Deliver: Suki→Isla (30-35%) gold -->
  <circle r="5" fill="url(#pkt)" filter="url(#glow)" opacity="0">
    <animate attributeName="cx" dur="60s" repeatCount="indefinite"
      values="440;440;440;770;770;770" keyTimes="0;0.29;0.30;0.35;0.36;1"/>
    <animate attributeName="cy" dur="60s" repeatCount="indefinite"
      values="400;400;400;260;260;260" keyTimes="0;0.29;0.30;0.35;0.36;1"/>
    <animate attributeName="opacity" dur="60s" repeatCount="indefinite"
      values="0;0;1;1;0;0" keyTimes="0;0.29;0.30;0.35;0.36;1"/>
  </circle>

  <!-- Receipt: Isla→Suki success (38-42%) teal -->
  <circle r="4" fill="url(#rcpt)" filter="url(#glow)" opacity="0">
    <animate attributeName="cx" dur="60s" repeatCount="indefinite"
      values="770;770;770;440;440;440" keyTimes="0;0.37;0.38;0.42;0.43;1"/>
    <animate attributeName="cy" dur="60s" repeatCount="indefinite"
      values="260;260;260;400;400;400" keyTimes="0;0.37;0.38;0.42;0.43;1"/>
    <animate attributeName="opacity" dur="60s" repeatCount="indefinite"
      values="0;0;1;1;0;0" keyTimes="0;0.37;0.38;0.42;0.43;1"/>
  </circle>

  <!-- Receipt: Isla→Ren FIZZLE (38-41%) — fades halfway -->
  <circle r="4" fill="url(#rcpt)" filter="url(#glow)" opacity="0">
    <animate attributeName="cx" dur="60s" repeatCount="indefinite"
      values="770;770;770;605;605;605" keyTimes="0;0.37;0.38;0.41;0.42;1"/>
    <animate attributeName="cy" dur="60s" repeatCount="indefinite"
      values="260;260;260;190;190;190" keyTimes="0;0.37;0.38;0.41;0.42;1"/>
    <animate attributeName="opacity" dur="60s" repeatCount="indefinite"
      values="0;0;0.7;0;0;0" keyTimes="0;0.37;0.38;0.41;0.42;1"/>
  </circle>

  <!-- LOST marker at fizzle point -->
  <g opacity="0">
    <line x1="598" y1="183" x2="612" y2="197" stroke="#ff4444" stroke-width="2" stroke-linecap="round"/>
    <line x1="612" y1="183" x2="598" y2="197" stroke="#ff4444" stroke-width="2" stroke-linecap="round"/>
    <animate attributeName="opacity" dur="60s" repeatCount="indefinite"
      values="0;0;0.7;0.7;0;0" keyTimes="0;0.40;0.41;0.46;0.47;1"/>
  </g>
  <text x="605" y="212" font-family="'SF Mono',monospace" font-size="9" fill="#ff4444" text-anchor="middle" letter-spacing="2px" opacity="0">
    LOST
    <animate attributeName="opacity" dur="60s" repeatCount="indefinite"
      values="0;0;0.6;0.6;0;0" keyTimes="0;0.41;0.42;0.46;0.47;1"/>
  </text>

  <!-- Ren→Isla ping (48-50%) — small teal dot -->
  <circle r="3" fill="#80ffea" filter="url(#glow-sm)" opacity="0">
    <animate attributeName="cx" dur="60s" repeatCount="indefinite"
      values="440;440;440;770;770;770" keyTimes="0;0.47;0.48;0.50;0.51;1"/>
    <animate attributeName="cy" dur="60s" repeatCount="indefinite"
      values="120;120;120;260;260;260" keyTimes="0;0.47;0.48;0.50;0.51;1"/>
    <animate attributeName="opacity" dur="60s" repeatCount="indefinite"
      values="0;0;0.5;0;0;0" keyTimes="0;0.47;0.48;0.50;0.51;1"/>
  </circle>

  <!-- Receipt: Isla→Ren delayed success (50-55%) teal -->
  <circle r="4" fill="url(#rcpt)" filter="url(#glow)" opacity="0">
    <animate attributeName="cx" dur="60s" repeatCount="indefinite"
      values="770;770;770;440;440;440" keyTimes="0;0.49;0.50;0.55;0.56;1"/>
    <animate attributeName="cy" dur="60s" repeatCount="indefinite"
      values="260;260;260;120;120;120" keyTimes="0;0.49;0.50;0.55;0.56;1"/>
    <animate attributeName="opacity" dur="60s" repeatCount="indefinite"
      values="0;0;1;1;0;0" keyTimes="0;0.49;0.50;0.55;0.56;1"/>
  </circle>

  <!-- Zara→Ren ping (63-65%) — small gold dot -->
  <circle r="3" fill="#ffe880" filter="url(#glow-sm)" opacity="0">
    <animate attributeName="cx" dur="60s" repeatCount="indefinite"
      values="150;150;150;440;440;440" keyTimes="0;0.62;0.63;0.65;0.66;1"/>
    <animate attributeName="cy" dur="60s" repeatCount="indefinite"
      values="260;260;260;120;120;120" keyTimes="0;0.62;0.63;0.65;0.66;1"/>
    <animate attributeName="opacity" dur="60s" repeatCount="indefinite"
      values="0;0;0.5;0;0;0" keyTimes="0;0.62;0.63;0.65;0.66;1"/>
  </circle>

  <!-- Receipt: Ren→Zara final (65-70%) teal -->
  <circle r="4" fill="url(#rcpt)" filter="url(#glow)" opacity="0">
    <animate attributeName="cx" dur="60s" repeatCount="indefinite"
      values="440;440;440;150;150;150" keyTimes="0;0.64;0.65;0.70;0.71;1"/>
    <animate attributeName="cy" dur="60s" repeatCount="indefinite"
      values="120;120;120;260;260;260" keyTimes="0;0.64;0.65;0.70;0.71;1"/>
    <animate attributeName="opacity" dur="60s" repeatCount="indefinite"
      values="0;0;1;1;0;0" keyTimes="0;0.64;0.65;0.70;0.71;1"/>
  </circle>

  <!-- ========= CAPTIONS ========= -->
  <rect x="0" y="495" width="960" height="45" fill="#020308" opacity="0.8"/>
  <line x1="80" y1="495" x2="880" y2="495" stroke="#2a2a4a" stroke-width="0.5" opacity="0.4"/>

  <text x="480" y="523" class="caption" text-anchor="middle" opacity="0">
    Zara needs to reach Isla — but Isla is offline.
    <animate attributeName="opacity" dur="60s" repeatCount="indefinite"
      values="0;0;1;1;0;0" keyTimes="0;0.02;0.04;0.08;0.10;1"/>
  </text>

  <text x="480" y="523" class="caption" text-anchor="middle" opacity="0">
    Two sealed copies fired to mutual peers Ren and Suki.
    <animate attributeName="opacity" dur="60s" repeatCount="indefinite"
      values="0;0;1;1;0;0" keyTimes="0;0.10;0.12;0.17;0.19;1"/>
  </text>

  <text x="480" y="523" class="caption" text-anchor="middle" opacity="0">
    Zara and Ren go offline. Only Suki holds the message.
    <animate attributeName="opacity" dur="60s" repeatCount="indefinite"
      values="0;0;1;1;0;0" keyTimes="0;0.19;0.21;0.27;0.29;1"/>
  </text>

  <text x="480" y="523" class="caption" text-anchor="middle" opacity="0">
    Isla comes online. Suki delivers the sealed message.
    <animate attributeName="opacity" dur="60s" repeatCount="indefinite"
      values="0;0;1;1;0;0" keyTimes="0;0.29;0.31;0.37;0.39;1"/>
  </text>

  <text x="480" y="523" class="caption" text-anchor="middle" opacity="0">
    Isla sends read receipts. Suki purges her copy. Ren's is lost.
    <animate attributeName="opacity" dur="60s" repeatCount="indefinite"
      values="0;0;1;1;0;0" keyTimes="0;0.39;0.41;0.46;0.48;1"/>
  </text>

  <text x="480" y="523" class="caption" text-anchor="middle" opacity="0">
    Ren returns. Isla resends receipt. Ren purges his copy.
    <animate attributeName="opacity" dur="60s" repeatCount="indefinite"
      values="0;0;1;1;0;0" keyTimes="0;0.48;0.50;0.57;0.59;1"/>
  </text>

  <text x="480" y="523" class="caption" text-anchor="middle" opacity="0">
    Zara returns. Ren relays the read receipt. Confirmed.
    <animate attributeName="opacity" dur="60s" repeatCount="indefinite"
      values="0;0;1;1;0;0" keyTimes="0;0.60;0.62;0.72;0.74;1"/>
  </text>

  <text x="480" y="523" class="caption" text-anchor="middle" opacity="0">
    Delay-tolerant. Store-and-forward. No server needed. ✦
    <animate attributeName="opacity" dur="60s" repeatCount="indefinite"
      values="0;0;1;1;0;0" keyTimes="0;0.75;0.77;0.90;0.93;1"/>
  </text>

</svg>
